<html>
  <head>
    <title>Real Time Board</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  </head>
  <body>

      <div class="container">
  <h2>Real Time Analytics</h2>
  <table class="table" id="myTable">
    <thead>
      <tr>
          <th>
              Customer ID
          </th>
          <th>
              Order ID
          </th>
          <th>
              Order Time
          </th>

          <th>
              Name
          </th>
          <th>
              Product ID
          </th>
          <th>
              Pallet ID
          </th>
          <th>
              Frame
          </th>
          <th>
              Screen
          </th>
          <th>
              Keyboard
          </th>
          <th>
              Current Location
          </th>

          <th>
              Status
          </th>
      </tr>
    </thead>
  </table>
</div>


      <script src="/socket.io/socket.io.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
      <script src = "http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
      <script src= "https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
      <script>
      $(document).ready(function(){
          var socket = io.connect("http://localhost:4000");
          setInterval(function () {
              socket.emit ("time", 1);
          }, 1000);

          socket.on ("result is here", function (data) {
              var trHTML = '';
              var td1 = "";
              var td2 = "";
              var td3 = "";
              var td4 = "";
              var td5 = "";
              var td6 = "";
              var td7 = "";
              var td8 = "";
              var td9 = "";
              var td10 = "";
              var td11 = "";
              var tr="";
              jQuery("#myTable tbody").empty();

              for (var i = 0; i < data.length; i ++) {
                  var tr="<tr>";
                  var td1="<td>"+data[i].CustomerID+"</td>";
                  var td2="<td>"+data[i].OrderID+"</td>";
                  var td3="<td>"+data[i].OrderTime+"</td>";
                  var td4="<td>"+data[i].Name+"</td>";
                  var td5="<td>"+data[i].ProductID+"</td>";
                  var td6="<td>"+data[i].PalletID+"</td>";
                  var td7="<td>"+data[i].Frame+"</td>";
                  var td8="<td>"+data[i].Screen+"</td>";
                  var td9="<td>"+data[i].Keyboard+"</td>";
                  var td10="<td>"+data[i].Current_Loc+"</td>";
                  var td11="<td>"+data[i].Status+"</td></tr>";
                  $("#myTable").append(tr+td1+td2+td3+td4+td5+td6+td7+td8+td9+td10+td11);

              }


          })

      });
      </script>
  </body>
</html>
